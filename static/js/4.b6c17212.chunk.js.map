{"version":3,"sources":["hoc/withAuthRedirect.js","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Comp","RedirectComponent","this","props","to","Component","connect","module","exports","DialogItem","path","id","className","s","item","activeClassName","activeLink","pic","style","backgroundImage","link","name","Message","message__block","message","maxLength50","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","validate","required","textarea","placeholder","button__block","button__wrap","Button","buttonText","type","Dialogs","dialogsElements","messagesPage","dialogsData","map","dialog","messagesElements","messagesData","dialogs","dialogs__items","message__box","messages","values","sendMessage","newMessageBody","compose","dispatch","sendMessageCreator"],"mappings":"mNAIIA,EAA6B,SAACC,GAChC,MAAO,CACLC,OAAQD,EAAME,KAAKD,SAIVE,EAAmB,SAACC,GAAU,IACnCC,EADkC,4JAEtC,WACE,OAAKC,KAAKC,MAAMN,OACT,cAACG,EAAD,eAAUE,KAAKC,QADS,cAAC,IAAD,CAAUC,GAAI,eAHT,GACRC,aAShC,OAFqCC,YAAQX,EAARW,CAAoCL,K,oBCjB3EM,EAAOC,QAAU,CAAC,QAAU,yBAAyB,eAAiB,gCAAgC,SAAW,0BAA0B,aAAe,8BAA8B,KAAO,sBAAsB,SAAW,0BAA0B,OAAS,wBAAwB,cAAgB,iC,oBCA3SD,EAAOC,QAAU,CAAC,KAAO,yBAAyB,KAAO,yBAAyB,OAAS,2BAA2B,IAAM,0B,oBCA5HD,EAAOC,QAAU,CAAC,eAAiB,gCAAgC,QAAU,yBAAyB,IAAM,uB,gHCiB7FC,EAfI,SAACN,GAClB,IAAIO,EAAO,aAAeP,EAAMQ,GAChC,OAEE,cADA,CACA,OAAKC,UAAWC,IAAEC,KAAMC,gBAAiBF,IAAEG,WAA3C,UAEE,qBAAKJ,UAAWC,IAAEI,IAAKC,MAAO,CAAEC,gBAAgB,OAAD,OAAShB,EAAMc,IAAf,QAC/C,cAAC,IAAD,CAASL,UAAWC,IAAEO,KAAMhB,GAAIM,EAAhC,SACGP,EAAMkB,W,kBCEAC,EAXC,SAACnB,GACf,OACE,sBAAKS,UAAWC,IAAEU,eAAlB,UACE,qBAAKX,UAAWC,IAAEI,IAAKC,MAAO,CAAEC,gBAAgB,OAAD,OAAShB,EAAMc,IAAf,QAC/C,8BACE,qBAAKL,UAAWC,IAAEW,QAAlB,SAA4BrB,EAAMqB,gB,gDC0BpCC,EAAcC,YAAiB,IAoB/BC,EAAsBC,YAAU,CAAEC,KAAM,wBAAlBD,EAnBL,SAACzB,GACtB,OACE,uBAAM2B,SAAU3B,EAAM4B,aAAcnB,UAAWC,IAAEgB,KAAjD,UACE,cAACG,EAAA,EAAD,CACEC,UAAWC,IACXC,SAAU,CAACC,IAAUX,GACrBJ,KAAK,iBACLT,UAAWC,IAAEwB,SACbC,YAAY,+BAEd,qBAAK1B,UAAWC,IAAE0B,cAAlB,SACE,qBAAK3B,UAAWC,IAAE2B,aAAlB,SACE,cAACC,EAAA,EAAD,CAAQC,WAAY,OAAQC,KAAM,qBAQ7BC,EA3CC,SAACzC,GACf,IAAI0C,EAAkB1C,EAAM2C,aAAaC,YAAYC,KAAI,SAACC,GAAD,OACvD,cAAC,EAAD,CAAY5B,KAAM4B,EAAO5B,KAAMV,GAAIsC,EAAOtC,GAAIM,IAAKgC,EAAOhC,SAGxDiC,EAAmB/C,EAAM2C,aAAaK,aAAaH,KAAI,SAACxB,GAAD,OACzD,cAAC,EAAD,CAASA,QAASA,EAAQA,QAASb,GAAIa,EAAQb,GAAIM,IAAKO,EAAQP,SAMlE,OACE,sBAAKL,UAAWC,IAAEuC,QAAlB,UACE,qBAAKxC,UAAWC,IAAEwC,eAAlB,SAAmCR,IACnC,sBAAKjC,UAAWC,IAAEyC,aAAlB,UACE,qBAAK1C,UAAWC,IAAE0C,SAAlB,SAA6BL,IAC7B,cAACvB,EAAD,CAAqBG,SARP,SAAC0B,GACnBrD,EAAMsD,YAAYD,EAAOE,0B,iBCDdC,sBAAQrD,aAdD,SAACV,GACrB,MAAO,CACLkD,aAAclD,EAAMkD,iBAIC,SAACc,GACxB,MAAO,CACLH,YAAa,SAACC,GACZE,EAASC,YAAmBH,SAKmC3D,IAAtD4D,CAAwEf","file":"static/js/4.b6c17212.chunk.js","sourcesContent":["import { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport const withAuthRedirect = (Comp) => {\r\n  class RedirectComponent extends Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to={'/login'} />;\r\n      return <Comp {...this.props} />;\r\n    }\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__E6_2L\",\"dialogs__items\":\"Dialogs_dialogs__items__18zMm\",\"messages\":\"Dialogs_messages__IHhMB\",\"message__box\":\"Dialogs_message__box__3WOH9\",\"form\":\"Dialogs_form__3S619\",\"textarea\":\"Dialogs_textarea__2fd5O\",\"button\":\"Dialogs_button__3_yo3\",\"button__block\":\"Dialogs_button__block__3PYti\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"DialogItem_item__2Z2Xd\",\"link\":\"DialogItem_link__u3m8Q\",\"active\":\"DialogItem_active__3f9Qm\",\"pic\":\"DialogItem_pic__2qwF6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message__block\":\"Message_message__block__2L8aM\",\"message\":\"Message_message__3Dp6K\",\"pic\":\"Message_pic__2Awhr\"};","import { NavLink } from 'react-router-dom';\r\nimport s from './DialogItem.module.css';\r\n\r\nconst DialogItem = (props) => {\r\n  let path = '/messages/' + props.id;\r\n  return (\r\n    // <div>\r\n    <div className={s.item} activeClassName={s.activeLink}>\r\n      {/* + ' ' + s.active*/}\r\n      <div className={s.pic} style={{ backgroundImage: `url(${props.pic})` }}></div>\r\n      <NavLink className={s.link} to={path}>\r\n        {props.name}\r\n      </NavLink>\r\n    </div>\r\n    // </div>\r\n  );\r\n};\r\n\r\nexport default DialogItem;\r\n","import s from './Message.module.css';\r\n\r\nconst Message = (props) => {\r\n  return (\r\n    <div className={s.message__block}>\r\n      <div className={s.pic} style={{ backgroundImage: `url(${props.pic})` }}></div>\r\n      <div>\r\n        <div className={s.message}>{props.message}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import s from './Dialogs.module.css';\r\n// import Textarea from '../Profile/Posts/Textarea';\r\n// import Submit from '../Profile/Posts/Submit';\r\nimport DialogItem from './DialogItem/DialogItem';\r\nimport Message from './Message/Message';\r\nimport React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Textarea } from '../common/FormsControls/FormsControls';\r\nimport { maxLengthCreator, required } from '../../utils/validators/validators';\r\nimport Button from '../common/Button';\r\n\r\nconst Dialogs = (props) => {\r\n  let dialogsElements = props.messagesPage.dialogsData.map((dialog) => (\r\n    <DialogItem name={dialog.name} id={dialog.id} pic={dialog.pic} />\r\n  ));\r\n\r\n  let messagesElements = props.messagesPage.messagesData.map((message) => (\r\n    <Message message={message.message} id={message.id} pic={message.pic} />\r\n  ));\r\n\r\n  let addNewMessage = (values) => {\r\n    props.sendMessage(values.newMessageBody);\r\n  };\r\n  return (\r\n    <div className={s.dialogs}>\r\n      <div className={s.dialogs__items}>{dialogsElements}</div>\r\n      <div className={s.message__box}>\r\n        <div className={s.messages}>{messagesElements}</div>\r\n        <AddMessageFormRedux onSubmit={addNewMessage} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nconst maxLength50 = maxLengthCreator(50);\r\nconst AddMessageForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit} className={s.form}>\r\n      <Field\r\n        component={Textarea}\r\n        validate={[required, maxLength50]}\r\n        name='newMessageBody'\r\n        className={s.textarea}\r\n        placeholder='write your next message...'\r\n      />\r\n      <div className={s.button__block}>\r\n        <div className={s.button__wrap}>\r\n          <Button buttonText={'Send'} type={'submit'} />\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst AddMessageFormRedux = reduxForm({ form: 'dialogAddMessageForm' })(AddMessageForm);\r\nexport default Dialogs;\r\n","import { connect } from 'react-redux';\r\nimport { sendMessageCreator } from '../../redux/messages-reducer';\r\nimport Dialogs from './Dialogs';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect.js';\r\nimport { compose } from 'redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    messagesPage: state.messagesPage,\r\n  };\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    sendMessage: (newMessageBody) => {\r\n      dispatch(sendMessageCreator(newMessageBody));\r\n    },\r\n  };\r\n};\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withAuthRedirect)(Dialogs);\r\n"],"sourceRoot":""}