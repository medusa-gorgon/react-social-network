{"version":3,"sources":["hoc/withAuthRedirect.js","components/Profile/UserInfo/UserInfo.module.css","components/Profile/UserInfo/ProfileStatusWithHooks.module.css","components/Profile/UserInfo/ProfileDataForm.module.css","components/Profile/Posts/Post/Post.module.css","components/Profile/Posts/Posts.module.css","components/Profile/UserInfo/ProfileStatusWithHooks.jsx","components/Profile/UserInfo/ProfileDataForm.jsx","components/Profile/UserInfo/UserInfo.jsx","components/Profile/Posts/Post/Post.jsx","components/Profile/Posts/Posts.jsx","components/Profile/Posts/PostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Comp","RedirectComponent","this","props","to","Component","connect","module","exports","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","className","s","profileStatus","onDoubleClick","input__block","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","input","type","validate","maxLengthCreator","ProfileDataFormReduxForm","reduxForm","form","onSubmit","handleSubmit","name__block","name","key","createField","field_block","field","Input","error","styles","formSummaryError","list","item","Textarea","contacts__list","contacts__title","Object","keys","profile","contacts","map","contact","button__block","button","ProfileData","fullName","isOwner","onClick","goToEditMode","edit__button","lookingForAJob","lookingForAJobDescription","aboutMe","arr","entries","push","contact_key","href","contact__value","length","unshift","addContacts","UserInfo","Preloader","info","avatar","avatar__img","alt","style","backgroundImage","photos","large","userPhoto","target","files","savePhoto","desc","profile__description","formData","saveProfile","then","Post","post","pic__block","pic","small","message","like","likeButton","likeCount","Posts","React","memo","postsElements","posts","posts__title","title","AddNewPostFormRedux","values","addPost","newPostBody","content__block","maxLength10","textarea__block","Field","textarea","component","placeholder","required","button__wrap","PostsContainer","profilePage","postsData","newPostText","dispatch","addPostActionCreator","Profile","content","profile__content","ProfileContainer","userId","match","params","authorizedUserId","history","getUserProfile","getStatus","refreshProfile","prevProps","prevState","compose","withRouter"],"mappings":"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","file":"static/js/3.104fba23.chunk.js","sourcesContent":["import { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport const withAuthRedirect = (Comp) => {\r\n  class RedirectComponent extends Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to={'/login'} />;\r\n      return <Comp {...this.props} />;\r\n    }\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"UserInfo_info__1HObf\",\"avatar__img\":\"UserInfo_avatar__img__2mHoJ\",\"name\":\"UserInfo_name__3ZqGE\",\"profile__description\":\"UserInfo_profile__description__32Lnq\",\"contact\":\"UserInfo_contact__2yoWG\",\"contact_key\":\"UserInfo_contact_key__2BfQt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input__block\":\"ProfileStatusWithHooks_input__block__1JB2I\",\"input\":\"ProfileStatusWithHooks_input__3tkei\",\"status\":\"ProfileStatusWithHooks_status__2Zs9G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contact\":\"ProfileDataForm_contact__2xqAs\",\"item\":\"ProfileDataForm_item__38scU\",\"field_block\":\"ProfileDataForm_field_block__3R-fz\",\"field\":\"ProfileDataForm_field__14Bnq\",\"key\":\"ProfileDataForm_key__1TAKw\",\"name\":\"ProfileDataForm_name__18K67\",\"name__block\":\"ProfileDataForm_name__block__3s89x\",\"button\":\"ProfileDataForm_button__3Ig9q\",\"button__block\":\"ProfileDataForm_button__block__JPE-8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__1kZ6P\",\"button__block\":\"Post_button__block__3Q9JW\",\"pic__block\":\"Post_pic__block__2MPxZ\",\"pic\":\"Post_pic__3aKiH\",\"like\":\"Post_like__1zo3E\",\"likeButton\":\"Post_likeButton__Mh25E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"Posts_posts__tohl-\",\"posts__title\":\"Posts_posts__title__315Od\",\"title\":\"Posts_title__ecDrm\",\"form\":\"Posts_form__MUBYC\",\"content__block\":\"Posts_content__block__1fCcx\",\"textarea\":\"Posts_textarea__ZdWaN\",\"button\":\"Posts_button__2P8aQ\",\"button__block\":\"Posts_button__block__1isNK\"};","import { useEffect, useState } from 'react';\r\nimport s from './ProfileStatusWithHooks.module.css';\r\nimport { maxLengthCreator } from '../../../utils/validators/validators';\r\nimport { createField, Input } from '../../common/FormsControls/FormsControls';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n  let [editMode, setEditMode] = useState(false);\r\n  let [status, setStatus] = useState(props.status);\r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  }, [props.status]);\r\n  const activateMode = () => {\r\n    setEditMode(true);\r\n  };\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  };\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value);\r\n  };\r\n  return (\r\n    <div className={s.profileStatus}>\r\n      {!editMode && (\r\n        <div className={s.status}>\r\n          <span onDoubleClick={activateMode}>{props.status || '-------------'}</span>\r\n        </div>\r\n      )}\r\n      {editMode && (\r\n        // createField(\r\n        //   s.input__block,\r\n        //   s.input,\r\n        //   'enter your bio',\r\n        //   'status',\r\n        //   'text',\r\n        //   [maxLengthCreator(15)],\r\n        //   Input,\r\n        //   {\r\n        //     onChange: onStatusChange,\r\n        //     autoFocus: true,\r\n        //     onBlur: deactivateEditMode,\r\n        //     value: status,\r\n        //   }\r\n        <div className={s.input__block}>\r\n          <input\r\n            onChange={onStatusChange}\r\n            autoFocus={true}\r\n            onBlur={deactivateEditMode}\r\n            value={status}\r\n            className={s.input}\r\n            type='text'\r\n            validate={[maxLengthCreator(15)]}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileStatusWithHooks;\r\n","import { reduxForm } from 'redux-form';\r\nimport { createField, Input, Textarea } from '../../common/FormsControls/FormsControls';\r\nimport s from './ProfileDataForm.module.css';\r\nimport styles from '../../../components/common/FormsControls/FormsControls.module.css';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\n\r\nconst ProfileDataForm = (props) => {\r\n  let addContacts = () => {\r\n    let arr = [];\r\n    for (let [key, value] of Object.entries(props.profile.contacts)) {\r\n      arr.push(\r\n        <li className={s.contact}>\r\n          <div className={s.key}>{`${key}: `}</div>\r\n          {createField('', s.field, `your ${key} link here`, `contacts.${key}`, 'text', [], Input)}\r\n        </li>\r\n      );\r\n    }\r\n    arr.unshift(<div className={`${s.contacts__title} ${s.key}`}>Contacts:</div>);\r\n    return arr;\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={props.handleSubmit} className={s.form}>\r\n      <div className={s.name__block}>\r\n        <div className={`${s.name} ${s.key}`}>Full name:</div>\r\n        {createField(s.field_block, s.field, 'Name', 'fullName', 'text', [], Input)}\r\n      </div>\r\n      <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus} />\r\n      {props.error && <div className={styles.formSummaryError}>{props.error}</div>}\r\n      <ul className={s.list}>\r\n        <li className={s.item}>\r\n          <div className={s.key}>Looking for a job:</div>\r\n          {createField('', s.field, '', 'lookingForAJob', 'checkbox', [], Input)}\r\n        </li>\r\n        <li className={s.item}>\r\n          <div className={s.key}>Job Description:</div>\r\n          {createField('', s.field, 'Job Description', 'lookingForAJobDescription', 'textarea', [], Textarea)}\r\n        </li>\r\n        <li className={s.item}>\r\n          <div className={s.key}>About me:</div>\r\n          {createField('', s.field, 'About me', 'aboutMe', 'text', [], Input)}\r\n        </li>\r\n\r\n        <li className={s.item}>\r\n          <ul className={s.contacts__list}>\r\n            <div className={`${s.contacts__title} ${s.key}`}>Contacts:</div>\r\n            {Object.keys(props.profile.contacts).map((key) => {\r\n              return (\r\n                <li className={s.contact}>\r\n                  <div key={key} className={s.key}>\r\n                    {key}:{createField('', s.field, `your ${key} link here`, `contacts.${key}`, 'text', [], Input)}\r\n                  </div>\r\n                </li>\r\n              );\r\n            })}\r\n            {/* {addContacts()} */}\r\n          </ul>\r\n        </li>\r\n      </ul>\r\n      <div className={s.button__block}>\r\n        <button className={s.button} type='submit'>\r\n          Save changes\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst ProfileDataFormReduxForm = reduxForm({ form: 'profileData' })(ProfileDataForm);\r\n\r\nexport default ProfileDataFormReduxForm;\r\n","import Preloader from '../../common/Preloader';\r\nimport s from './UserInfo.module.css';\r\nimport userPhoto from '../../../assets/images/user.png';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\nimport ProfileDataForm from './ProfileDataForm';\r\nimport { useState } from 'react';\r\n\r\nconst UserInfo = (props) => {\r\n  let [editMode, setEditMode] = useState(false);\r\n\r\n  if (!props.profile) {\r\n    return <Preloader />;\r\n  }\r\n\r\n  const onMainPhotoSelected = (e) => {\r\n    if (e.target.files.length) {\r\n      props.savePhoto(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const onSubmit = (formData) => {\r\n    props.saveProfile(formData).then(() => {\r\n      setEditMode(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className={s.info}>\r\n      <div className={s.avatar}>\r\n        <div\r\n          className={s.avatar__img}\r\n          alt='avatar'\r\n          style={{\r\n            backgroundImage: `url(${\r\n              props.profile != null && props.profile.photos.large != null ? props.profile.photos.large : userPhoto\r\n            })`,\r\n          }}\r\n        ></div>\r\n        {props.isOwner && <input type={'file'} onChange={onMainPhotoSelected} />}\r\n      </div>\r\n      <div className={s.desc}>\r\n        <div className={s.profile__description}>\r\n          {editMode ? (\r\n            <ProfileDataForm\r\n              onSubmit={onSubmit}\r\n              // initialValues={props.profile}\r\n              profile={props.profile}\r\n              status={props.status}\r\n              updateStatus={props.updateStatus}\r\n            />\r\n          ) : (\r\n            <ProfileData\r\n              status={props.status}\r\n              updateStatus={props.updateStatus}\r\n              profile={props.profile}\r\n              isOwner={props.isOwner}\r\n              goToEditMode={() => {\r\n                setEditMode(true);\r\n              }}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ProfileData = (props) => {\r\n  let addContacts = () => {\r\n    let arr = [];\r\n    for (let [key, value] of Object.entries(props.profile.contacts)) {\r\n      if (value !== null && value !== '') {\r\n        arr.push(\r\n          <li className={s.contact}>\r\n            <div className={s.contact_key}>{`${key}: `}</div>\r\n            <a href={value} className={s.contact__value}>{` ${value}`}</a>\r\n          </li>\r\n        );\r\n      }\r\n    }\r\n    if (arr.length !== 0) {\r\n      arr.unshift(<div className={s.contacts}>Contacts:</div>);\r\n    }\r\n    return arr;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className={s.name__block}>\r\n        <div className={s.name}>{props.profile.fullName}</div>\r\n      </div>\r\n      <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus} />\r\n      {props.isOwner && (\r\n        <button onClick={props.goToEditMode} className={s.edit__button} type='button'>\r\n          Edit profile\r\n        </button>\r\n      )}\r\n      <ul className={s.list}>\r\n        <li className={s.item}>\r\n          <div>Looking for a job: {props.profile.lookingForAJob ? 'yes' : 'no'} </div>\r\n        </li>\r\n        <li className={s.item}>\r\n          {\r\n            (props.profile.lookingForAJob = true && props.profile.lookingForAJobDescription != null && (\r\n              <div>Job Description: {props.profile.lookingForAJobDescription}</div>\r\n            ))\r\n          }\r\n        </li>\r\n        <li className={s.item}>{props.profile.aboutMe != null && <div>About me: \"{props.profile.aboutMe}\"</div>}</li>\r\n        <li className={s.item}>\r\n          <ul className={s.contacts__list}>{addContacts()}</ul>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserInfo;\r\n","import s from './Post.module.css';\r\nimport userPhoto from '../../../../assets/images/user.png';\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={s.post}>\r\n      <div className={s.pic__block}>\r\n        <div\r\n          className={s.pic}\r\n          style={{\r\n            backgroundImage: `url(${\r\n              props.profile != null && props.profile.photos.small != null ? props.profile.photos.small : userPhoto\r\n            })`,\r\n          }}\r\n          alt='avatar'\r\n        ></div>\r\n      </div>\r\n\r\n      <span className={s.post}>{props.message}</span>\r\n      <div className={s.like}>\r\n        <button className={s.likeButton}>&#9825;</button>\r\n        <span className={s.likeCount}>{props.likeCount}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Post;\r\n","// import Submit from './Submit';\r\n// import Textarea from './Textarea';\r\nimport React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { required, maxLengthCreator } from '../../../utils/validators/validators';\r\nimport { Textarea } from '../../common/FormsControls/FormsControls';\r\nimport Post from './Post/Post';\r\nimport s from './Posts.module.css';\r\n\r\nconst Posts = React.memo((props) => {\r\n  //           or\r\n  // class Posts extends PureComponent {\r\n  //   render() {\r\n  //     console.log('RENDER');\r\n  //     console.log(this.props);\r\n  //           or\r\n  // class Posts extends Component {\r\n  //   // shouldComponentUpdate(nextProps, nextState) {\r\n  //   //   return nextProps !== this.props || nextState != this.state;\r\n  //   // }\r\n  //   render() {\r\n  let postsElements = props.posts.map((post) => (\r\n    <Post profile={props.profile} message={post.message} likeCount={post.likeCount} />\r\n  ));\r\n\r\n  const addNewPost = (values) => {\r\n    props.addPost(values.newPostBody);\r\n  };\r\n\r\n  return (\r\n    <div className={s.posts}>\r\n      <div className={s.posts__title}>\r\n        <h2 className={s.title}>My posts</h2>\r\n      </div>\r\n      <AddNewPostFormRedux onSubmit={addNewPost} />\r\n      <div className={s.content__block}>{postsElements}</div>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\nconst AddNewPostForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit} className={s.form}>\r\n      <div className={s.textarea__block}>\r\n        <Field\r\n          name='newPostBody'\r\n          className={s.textarea}\r\n          component={Textarea}\r\n          placeholder='write what comes to mind...'\r\n          validate={[required, maxLength10]}\r\n        />\r\n      </div>\r\n      <div className={s.button__block}>\r\n        <div className={s.button__wrap}>\r\n          <button className={s.button} type='submit'>\r\n            Send\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst AddNewPostFormRedux = reduxForm({ form: 'profileAddNewPostForm' })(AddNewPostForm);\r\n\r\nexport default Posts;\r\n","import { connect } from 'react-redux';\r\nimport { addPostActionCreator } from '../../../redux/profile-reducer';\r\nimport Posts from './Posts';\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.postsData,\r\n    newPostText: state.profilePage.newPostText,\r\n  };\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (newPostBody) => {\r\n      dispatch(addPostActionCreator(newPostBody));\r\n    },\r\n  };\r\n};\r\n\r\nconst PostsContainer = connect(mapStateToProps, mapDispatchToProps)(Posts);\r\n\r\nexport default PostsContainer;\r\n","// import HeadPicture from './HeadPicture/HeadPicture';\r\nimport UserInfo from './UserInfo/UserInfo';\r\nimport s from './Profile.module.css';\r\nimport PostsContainer from './Posts/PostsContainer';\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <div className={s.content}>\r\n      <div className={s.profile}>\r\n        {/* <HeadPicture /> */}\r\n        <div className={s.profile__content}>\r\n          <UserInfo\r\n            isOwner={props.isOwner}\r\n            profile={props.profile}\r\n            status={props.status}\r\n            updateStatus={props.updateStatus}\r\n            savePhoto={props.savePhoto}\r\n            saveProfile={props.saveProfile}\r\n          />\r\n          <PostsContainer profile={props.profile} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Profile;\r\n","import { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport { getStatus, getUserProfile, updateStatus, savePhoto, saveProfile } from '../../redux/profile-reducer';\r\nimport Profile from './Profile';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect.js';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends Component {\r\n  refreshProfile() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.authorizedUserId;\r\n      if (!userId) {\r\n        this.props.history.push('/login');\r\n      }\r\n    }\r\n    this.props.getUserProfile(userId);\r\n    this.props.getStatus(userId);\r\n  }\r\n  componentDidMount() {\r\n    this.refreshProfile();\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n      this.refreshProfile();\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <Profile\r\n        {...this.props}\r\n        isOwner={!this.props.match.params.userId} // match is from withRouter\r\n        profile={this.props.profile}\r\n        status={this.props.status}\r\n        updateStatus={this.props.updateStatus}\r\n        savePhoto={this.props.savePhoto}\r\n        saveProfile={this.props.saveProfile}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getUserProfile, getStatus, updateStatus, savePhoto, saveProfile }),\r\n  withRouter\r\n  // withAuthRedirect\r\n)(ProfileContainer);\r\n"],"sourceRoot":""}