(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{300:function(t,e,s){"use strict";s.d(e,"a",(function(){return _}));var a=s(3),c=s(41),o=s(42),i=s(44),n=s(43),l=s(1),r=s(17),u=s(11),j=s(0),b=function(t){return{isAuth:t.auth.isAuth}},_=function(t){var e=function(e){Object(i.a)(l,e);var s=Object(n.a)(l);function l(){return Object(c.a)(this,l),s.apply(this,arguments)}return Object(o.a)(l,[{key:"render",value:function(){return this.props.isAuth?Object(j.jsx)(t,Object(a.a)({},this.props)):Object(j.jsx)(u.a,{to:"/login"})}}]),l}(l.Component);return Object(r.b)(b)(e)}},305:function(t,e,s){t.exports={info:"UserInfo_info__3Wbbl",avatar:"UserInfo_avatar__3oAR_",avatar__img:"UserInfo_avatar__img__3Dfoa",name:"UserInfo_name__3epNt",profile__description:"UserInfo_profile__description__QXPDQ",contact:"UserInfo_contact__2x4cE",contact_key:"UserInfo_contact_key__2x63P",input__block:"UserInfo_input__block__1a0hg",inputSelect:"UserInfo_inputSelect__12UFe",selectPhoto:"UserInfo_selectPhoto__2ynl9",list:"UserInfo_list__1H9HQ"}},306:function(t,e,s){t.exports={input__block:"ProfileStatusWithHooks_input__block___j1Jm",input:"ProfileStatusWithHooks_input__2F-fe",status:"ProfileStatusWithHooks_status__1zHTm"}},307:function(t,e,s){t.exports={contact:"ProfileDataForm_contact__2teG1",item:"ProfileDataForm_item__iFN8V",field_block:"ProfileDataForm_field_block__1OF1i",field:"ProfileDataForm_field__3Qo2b",key:"ProfileDataForm_key__2SLeU",name:"ProfileDataForm_name__1UxEL",name__block:"ProfileDataForm_name__block__hEAEQ",button__block:"ProfileDataForm_button__block__13MOQ"}},308:function(t,e,s){},309:function(t,e,s){t.exports={post:"Post_post__3QrBZ",button__block:"Post_button__block__R3RLX",pic__block:"Post_pic__block__1j6Qn",pic:"Post_pic__prtqv",like:"Post_like__2-Tov",likeButton:"Post_likeButton__jUeD5"}},310:function(t,e,s){t.exports={posts:"Posts_posts__9lKSn",posts__title:"Posts_posts__title__mFg8s",title:"Posts_title__Rvqxu",form:"Posts_form__12ka8",content__block:"Posts_content__block__3ZNG5",textarea:"Posts_textarea__2A-OM",button__block:"Posts_button__block__2N0s_"}},313:function(t,e,s){"use strict";s.r(e);var a=s(3),c=s(41),o=s(42),i=s(44),n=s(43),l=s(1),r=s.n(l),u=s(17),j=s(11),b=s(105),_=s(104),p=s(46),d=s(305),f=s.n(d),m=s(106),h=s(306),O=s.n(h),x=s(56),v=s(38),k=s(0),N=function(t){var e=Object(l.useState)(!1),s=Object(_.a)(e,2),a=s[0],c=s[1],o=Object(l.useState)(t.status),i=Object(_.a)(o,2),n=i[0],r=i[1];Object(l.useEffect)((function(){r(t.status)}),[t.status]);return Object(k.jsxs)("div",{className:O.a.profileStatus,children:[!a&&Object(k.jsx)("div",{className:O.a.status,children:Object(k.jsx)("span",{onDoubleClick:function(){c(!0)},children:t.status||"-------------"})}),a&&Object(k.jsx)("div",{className:O.a.input__block,children:Object(k.jsx)("input",{onChange:function(t){r(t.currentTarget.value)},autoFocus:!0,onBlur:function(){c(!1),t.updateStatus(n)},value:n,className:O.a.input,type:"text",validate:[Object(x.a)(15)]})})]})},P=s(137),g=s(307),S=s.n(g),y=s(57),D=s.n(y),F=s(32),I=Object(P.a)({form:"profileData"})((function(t){return Object(k.jsxs)("form",{onSubmit:t.handleSubmit,className:S.a.form,children:[Object(k.jsxs)("div",{className:S.a.name__block,children:[Object(k.jsx)("div",{className:"".concat(S.a.name," ").concat(S.a.key),children:"Full name:"}),Object(v.c)(S.a.field_block,S.a.field,"Name","fullName","text",[],v.a)]}),Object(k.jsx)(N,{status:t.status,updateStatus:t.updateStatus}),t.error&&Object(k.jsx)("div",{className:D.a.formSummaryError,children:t.error}),Object(k.jsxs)("ul",{className:S.a.list,children:[Object(k.jsxs)("li",{className:S.a.item,children:[Object(k.jsx)("div",{className:S.a.key,children:"Looking for a job:"}),Object(v.c)("",S.a.field,"","lookingForAJob","checkbox",[],v.a)]}),Object(k.jsxs)("li",{className:S.a.item,children:[Object(k.jsx)("div",{className:S.a.key,children:"Job Description:"}),Object(v.c)("",S.a.field,"Job Description","lookingForAJobDescription","textarea",[],v.b)]}),Object(k.jsxs)("li",{className:S.a.item,children:[Object(k.jsx)("div",{className:S.a.key,children:"About me:"}),Object(v.c)("",S.a.field,"About me","aboutMe","text",[],v.a)]}),Object(k.jsx)("li",{className:S.a.item,children:Object(k.jsxs)("ul",{className:S.a.contacts__list,children:[Object(k.jsx)("div",{className:"".concat(S.a.contacts__title," ").concat(S.a.key),children:"Contacts:"}),Object.keys(t.profile.contacts).map((function(t){return Object(k.jsx)("li",{className:S.a.contact,children:Object(k.jsxs)("div",{className:S.a.key,children:[t,":",Object(v.c)("",S.a.field,"your ".concat(t," link here"),"contacts.".concat(t),"text",[],v.a)]},t)})}))]})})]}),Object(k.jsx)("div",{className:S.a.button__block,children:Object(k.jsx)(F.a,{buttonText:"Save changes",type:"submit"})})]})})),U=function(t){return Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:f.a.name__block,children:Object(k.jsx)("div",{className:f.a.name,children:t.profile.fullName})}),Object(k.jsx)(N,{status:t.status,updateStatus:t.updateStatus}),Object(k.jsxs)("ul",{className:f.a.list,children:[Object(k.jsx)("li",{className:f.a.item,children:Object(k.jsxs)("div",{children:["Looking for a job: ",t.profile.lookingForAJob?"yes":"no"," "]})}),Object(k.jsx)("li",{className:f.a.item,children:t.profile.lookingForAJob=null!=t.profile.lookingForAJobDescription&&Object(k.jsxs)("div",{children:["Job Description: ",t.profile.lookingForAJobDescription]})}),Object(k.jsx)("li",{className:f.a.item,children:null!=t.profile.aboutMe&&Object(k.jsxs)("div",{children:['About me: "',t.profile.aboutMe,'"']})}),Object(k.jsx)("li",{className:f.a.item,children:Object(k.jsx)("ul",{className:f.a.contacts__list,children:function(){for(var e=[],s=0,a=Object.entries(t.profile.contacts);s<a.length;s++){var c=Object(_.a)(a[s],2),o=c[0],i=c[1];null!==i&&""!==i&&e.push(Object(k.jsxs)("li",{className:f.a.contact,children:[Object(k.jsx)("div",{className:f.a.contact_key,children:"".concat(o,": ")}),Object(k.jsx)("a",{href:i,className:f.a.contact__value,children:" ".concat(i)})]}))}return 0!==e.length&&e.unshift(Object(k.jsx)("div",{className:f.a.contacts,children:"Contacts:"})),e}()})})]}),t.isOwner&&Object(k.jsx)("div",{onClick:t.goToEditMode,children:Object(k.jsx)(F.a,{buttonText:"Edit profile",type:"button"})})]})},A=function(t){var e=Object(l.useState)(!1),s=Object(_.a)(e,2),a=s[0],c=s[1];if(!t.profile)return Object(k.jsx)(p.a,{});return Object(k.jsxs)("div",{className:f.a.info,children:[Object(k.jsxs)("div",{className:f.a.avatar,children:[Object(k.jsx)("div",{className:f.a.avatar__img,alt:"avatar",style:{backgroundImage:"url(".concat(null!=t.profile&&null!=t.profile.photos.large?t.profile.photos.large:m.a,")")}}),t.isOwner&&Object(k.jsx)("div",{className:f.a.input__block,children:Object(k.jsxs)("label",{for:"inputSelect",className:f.a.selectPhoto,children:[Object(k.jsx)("input",{className:f.a.inputSelect,type:"file",onChange:function(e){e.target.files.length&&t.savePhoto(e.target.files[0])},id:"inputSelect"}),"Select new picture"]})})]}),Object(k.jsx)("div",{className:f.a.desc,children:Object(k.jsx)("div",{className:f.a.profile__description,children:a?Object(k.jsx)(I,{onSubmit:function(e){t.saveProfile(e).then((function(){c(!1)}))},profile:t.profile,status:t.status,updateStatus:t.updateStatus}):Object(k.jsx)(U,{status:t.status,updateStatus:t.updateStatus,profile:t.profile,isOwner:t.isOwner,goToEditMode:function(){c(!0)}})})})]})},w=s(308),C=s.n(w),J=s(96),T=s(309),E=s.n(T),M=function(t){return Object(k.jsxs)("div",{className:E.a.post,children:[Object(k.jsx)("div",{className:E.a.pic__block,children:Object(k.jsx)("div",{className:E.a.pic,style:{backgroundImage:"url(".concat(null!=t.profile&&null!=t.profile.photos.small?t.profile.photos.small:m.a,")")},alt:"avatar"})}),Object(k.jsx)("span",{className:E.a.post,children:t.message}),Object(k.jsxs)("div",{className:E.a.like,children:[Object(k.jsx)("button",{className:E.a.likeButton,children:"\u2661"}),Object(k.jsx)("span",{className:E.a.likeCount,children:t.likeCount})]})]})},Q=s(310),B=s.n(Q),H=r.a.memo((function(t){var e=t.posts.map((function(e){return Object(k.jsx)(M,{profile:t.profile,message:e.message,likeCount:e.likeCount})}));return Object(k.jsxs)("div",{className:B.a.posts,children:[Object(k.jsx)("div",{className:B.a.posts__title,children:Object(k.jsx)("h2",{className:B.a.title,children:"My posts"})}),Object(k.jsx)(R,{onSubmit:function(e){t.addPost(e.newPostBody)}}),Object(k.jsx)("div",{className:B.a.content__block,children:e})]})})),L=Object(x.a)(10),R=Object(P.a)({form:"profileAddNewPostForm"})((function(t){return Object(k.jsxs)("form",{onSubmit:t.handleSubmit,className:B.a.form,children:[Object(k.jsx)("div",{className:B.a.textarea__block,children:Object(k.jsx)(J.a,{name:"newPostBody",className:B.a.textarea,component:v.b,placeholder:"write what comes to mind...",validate:[x.b,L]})}),Object(k.jsx)("div",{className:B.a.button__block,children:Object(k.jsx)(F.a,{buttonText:"Send",type:"submit"})})]})})),W=H,z=Object(u.b)((function(t){return{posts:t.profilePage.postsData,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){t(Object(b.a)(e))}}}))(W),q=function(t){return Object(k.jsx)("div",{className:C.a.content,children:Object(k.jsx)("div",{className:C.a.profile,children:Object(k.jsxs)("div",{className:C.a.profile__content,children:[Object(k.jsx)(A,{isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateStatus,savePhoto:t.savePhoto,saveProfile:t.saveProfile}),Object(k.jsx)(z,{profile:t.profile})]})})})},G=(s(300),s(10)),X=function(t){Object(i.a)(s,t);var e=Object(n.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(k.jsx)(q,Object(a.a)(Object(a.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),s}(l.Component);e.default=Object(G.d)(Object(u.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:b.d,getStatus:b.c,updateStatus:b.g,savePhoto:b.e,saveProfile:b.f}),j.g)(X)}}]);
//# sourceMappingURL=3.526461fb.chunk.js.map