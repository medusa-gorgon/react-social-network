{"version":3,"sources":["hoc/withAuthRedirect.js","components/Profile/UserInfo/UserInfo.module.css","components/Profile/UserInfo/ProfileStatus.module.css","components/Profile/Posts/Post/Post.module.css","components/Profile/Posts/Posts.module.css","components/Profile/UserInfo/ProfileStatusWithHooks.jsx","components/Profile/UserInfo/UserInfo.jsx","components/Profile/Posts/Post/Post.jsx","components/Profile/Posts/Posts.jsx","components/Profile/Posts/PostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Comp","RedirectComponent","this","props","to","Component","connect","module","exports","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","className","s","profileStatus","onDoubleClick","input__block","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","input","type","UserInfo","profile","Preloader","info","avatar","avatar__img","alt","style","backgroundImage","photos","large","userPhoto","desc","name__block","name","fullName","list","item","lookingForAJob","lookingForAJobDescription","aboutMe","contacts__list","arr","Object","entries","contacts","key","push","contact","contact_key","href","contact__value","length","unshift","addContacts","Post","post","pic__block","pic","small","message","like","likeButton","likeCount","Posts","React","memo","postsElements","posts","map","posts__title","title","AddNewPostFormRedux","onSubmit","values","addPost","newPostBody","content__block","maxLength10","maxLengthCreator","reduxForm","form","handleSubmit","textarea__block","Field","textarea","component","Textarea","placeholder","validate","required","button__block","button__wrap","button","PostsContainer","profilePage","postsData","newPostText","dispatch","addPostActionCreator","Profile","content","profile__content","ProfileContainer","userId","match","params","authorizedUserId","history","getUserProfile","getStatus","compose","withRouter"],"mappings":"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","file":"static/js/3.57e615d2.chunk.js","sourcesContent":["import { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport const withAuthRedirect = (Comp) => {\r\n  class RedirectComponent extends Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to={'/login'} />;\r\n      return <Comp {...this.props} />;\r\n    }\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"UserInfo_info__1HObf\",\"avatar__img\":\"UserInfo_avatar__img__2mHoJ\",\"name\":\"UserInfo_name__3ZqGE\",\"list\":\"UserInfo_list__20kbG\",\"contact\":\"UserInfo_contact__2yoWG\",\"contact_key\":\"UserInfo_contact_key__2BfQt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input__block\":\"ProfileStatus_input__block__3EZ0V\",\"input\":\"ProfileStatus_input__1rt9c\",\"status\":\"ProfileStatus_status__38XhW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__1kZ6P\",\"button__block\":\"Post_button__block__3Q9JW\",\"pic__block\":\"Post_pic__block__2MPxZ\",\"pic\":\"Post_pic__3aKiH\",\"like\":\"Post_like__1zo3E\",\"likeButton\":\"Post_likeButton__Mh25E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"Posts_posts__tohl-\",\"posts__title\":\"Posts_posts__title__315Od\",\"title\":\"Posts_title__ecDrm\",\"form\":\"Posts_form__MUBYC\",\"content__block\":\"Posts_content__block__1fCcx\",\"textarea\":\"Posts_textarea__ZdWaN\",\"button\":\"Posts_button__2P8aQ\",\"button__block\":\"Posts_button__block__1isNK\"};","import { useEffect, useState } from 'react';\r\nimport s from './ProfileStatus.module.css';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n  let [editMode, setEditMode] = useState(false);\r\n  let [status, setStatus] = useState(props.status);\r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  }, [props.status]);\r\n  const activateMode = () => {\r\n    setEditMode(true);\r\n  };\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  };\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value);\r\n  };\r\n  return (\r\n    <div className={s.profileStatus}>\r\n      {!editMode && (\r\n        <div className={s.status}>\r\n          <span onDoubleClick={activateMode}>{props.status || '-------------'}</span>\r\n        </div>\r\n      )}\r\n      {editMode && (\r\n        <div className={s.input__block}>\r\n          <input\r\n            onChange={onStatusChange}\r\n            autoFocus={true}\r\n            onBlur={deactivateEditMode}\r\n            value={status}\r\n            className={s.input}\r\n            type='text'\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileStatusWithHooks;\r\n","import Preloader from '../../common/Preloader';\r\nimport s from './UserInfo.module.css';\r\nimport userPhoto from '../../../assets/images/user.png';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\n\r\nconst UserInfo = (props) => {\r\n  if (!props.profile) {\r\n    return <Preloader />;\r\n  }\r\n\r\n  let addContacts = () => {\r\n    let arr = [];\r\n    for (let [key, value] of Object.entries(props.profile.contacts)) {\r\n      if (value !== null && value !== '') {\r\n        arr.push(\r\n          <li className={s.contact}>\r\n            <div className={s.contact_key}>{`${key}: `}</div>\r\n            <a href={`https://${value}`} className={s.contact__value}>{` ${value}`}</a>\r\n          </li>\r\n        );\r\n      }\r\n    }\r\n    if (arr.length !== 0) {\r\n      arr.unshift(<div>Contacts:</div>);\r\n    }\r\n    return arr;\r\n  };\r\n  return (\r\n    <div className={s.info}>\r\n      <div className={s.avatar}>\r\n        <div\r\n          className={s.avatar__img}\r\n          alt='avatar'\r\n          style={{\r\n            backgroundImage: `url(${\r\n              props.profile != null && props.profile.photos.large != null ? props.profile.photos.large : userPhoto\r\n            })`,\r\n          }}\r\n        ></div>\r\n      </div>\r\n      <div className={s.desc}>\r\n        <div className={s.name__block}>\r\n          <div className={s.name}>{props.profile.fullName}</div>\r\n        </div>\r\n        <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus} />\r\n        <ul className={s.list}>\r\n          <li className={s.item}>\r\n            {\r\n              (props.profile.lookingForAJob = true && props.profile.lookingForAJobDescription != null && (\r\n                <div>Job Description: {props.profile.lookingForAJobDescription}</div>\r\n              ))\r\n            }\r\n          </li>\r\n          <li className={s.item}>{props.profile.aboutMe != null && <div>About me: \"{props.profile.aboutMe}\"</div>}</li>\r\n          <li className={s.item}>\r\n            <ul className={s.contacts__list}>{addContacts()}</ul>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default UserInfo;\r\n","import s from './Post.module.css';\r\nimport userPhoto from '../../../../assets/images/user.png';\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={s.post}>\r\n      <div className={s.pic__block}>\r\n        <div\r\n          className={s.pic}\r\n          style={{\r\n            backgroundImage: `url(${\r\n              props.profile != null && props.profile.photos.small != null ? props.profile.photos.small : userPhoto\r\n            })`,\r\n          }}\r\n          alt='avatar'\r\n        ></div>\r\n      </div>\r\n\r\n      <span className={s.post}>{props.message}</span>\r\n      <div className={s.like}>\r\n        <button className={s.likeButton}>&#9825;</button>\r\n        <span className={s.likeCount}>{props.likeCount}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Post;\r\n","// import Submit from './Submit';\r\n// import Textarea from './Textarea';\r\nimport React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { required, maxLengthCreator } from '../../../utils/validators/validators';\r\nimport { Textarea } from '../../common/FormsControls/FormsControls';\r\nimport Post from './Post/Post';\r\nimport s from './Posts.module.css';\r\n\r\nconst Posts = React.memo((props) => {\r\n  //           or\r\n  // class Posts extends PureComponent {\r\n  //   render() {\r\n  //     console.log('RENDER');\r\n  //     console.log(this.props);\r\n  //           or\r\n  // class Posts extends Component {\r\n  //   // shouldComponentUpdate(nextProps, nextState) {\r\n  //   //   return nextProps !== this.props || nextState != this.state;\r\n  //   // }\r\n  //   render() {\r\n  let postsElements = props.posts.map((post) => (\r\n    <Post profile={props.profile} message={post.message} likeCount={post.likeCount} />\r\n  ));\r\n\r\n  const addNewPost = (values) => {\r\n    props.addPost(values.newPostBody);\r\n  };\r\n\r\n  return (\r\n    <div className={s.posts}>\r\n      <div className={s.posts__title}>\r\n        <h2 className={s.title}>My posts</h2>\r\n      </div>\r\n      <AddNewPostFormRedux onSubmit={addNewPost} />\r\n      <div className={s.content__block}>{postsElements}</div>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\nconst AddNewPostForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit} className={s.form}>\r\n      <div className={s.textarea__block}>\r\n        <Field\r\n          name='newPostBody'\r\n          className={s.textarea}\r\n          component={Textarea}\r\n          placeholder='write what comes to mind...'\r\n          validate={[required, maxLength10]}\r\n        />\r\n      </div>\r\n      <div className={s.button__block}>\r\n        <div className={s.button__wrap}>\r\n          <button className={s.button} type='submit'>\r\n            Send\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst AddNewPostFormRedux = reduxForm({ form: 'profileAddNewPostForm' })(AddNewPostForm);\r\n\r\nexport default Posts;\r\n","import { connect } from 'react-redux';\r\nimport { addPostActionCreator } from '../../../redux/profile-reducer';\r\nimport Posts from './Posts';\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.postsData,\r\n    newPostText: state.profilePage.newPostText,\r\n  };\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (newPostBody) => {\r\n      dispatch(addPostActionCreator(newPostBody));\r\n    },\r\n  };\r\n};\r\n\r\nconst PostsContainer = connect(mapStateToProps, mapDispatchToProps)(Posts);\r\n\r\nexport default PostsContainer;\r\n","// import HeadPicture from './HeadPicture/HeadPicture';\r\nimport UserInfo from './UserInfo/UserInfo';\r\nimport s from './Profile.module.css';\r\nimport PostsContainer from './Posts/PostsContainer';\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <div className={s.content}>\r\n      <div className={s.profile}>\r\n        {/* <HeadPicture /> */}\r\n        <div className={s.profile__content}>\r\n          <UserInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus} />\r\n          <PostsContainer profile={props.profile} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Profile;\r\n","import { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport { getStatus, getUserProfile, updateStatus } from '../../redux/profile-reducer';\r\nimport Profile from './Profile';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect.js';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends Component {\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.authorizedUserId;\r\n      if (!userId) {\r\n        this.props.history.push('/login');\r\n      }\r\n    }\r\n    this.props.getUserProfile(userId);\r\n    this.props.getStatus(userId);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Profile\r\n        {...this.props}\r\n        profile={this.props.profile}\r\n        status={this.props.status}\r\n        updateStatus={this.props.updateStatus}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getUserProfile, getStatus, updateStatus }),\r\n  withRouter\r\n  // withAuthRedirect\r\n)(ProfileContainer);\r\n"],"sourceRoot":""}